group = rootProject.group
version = rootProject.version

apply plugin: 'scala'
apply plugin: 'java'
apply plugin: 'signing'
apply plugin: 'maven'
apply plugin: 'maven-publish'

//uploadArchives.repositories.mavenDeployer.pom.artifactId = 'avro-formatter-kafka_0.10-scala_' + baseScalaVersion
publishing {
    publications {
        maven(MavenPublication) {
            artifactId 'avro-formatter-kafka_0.10-scala_' + baseScalaVersion
            from components.java
        }
    }
}

install.repositories.mavenInstaller.pom.artifactId = 'avro-formatter-kafka_0.10-scala_' + baseScalaVersion

buildscript {
    repositories {
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath "com.github.jengelman.gradle.plugins:shadow:2.0.1"
    }
}

apply plugin: "com.github.johnrengelman.shadow"

assemble.dependsOn shadowJar

dependencies {
    compile project(':avro-kafka:avro-kafka_0.10:avro-serde-kafka')
    provided group: 'org.apache.kafka', name: 'kafka_' + rootProject.baseScalaVersion, version: project(':avro-kafka:avro-kafka_0.10').kafkaVersion
    compile 'org.scala-lang:scala-library:' + rootProject.scalaVersion
}



